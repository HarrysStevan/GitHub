"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2188],{2188:(E,c,n)=>{n.r(c),n.d(c,{DashboardPageModule:()=>v});var l=n(177),_=n(4341),r=n(4742),d=n(8986),e=n(4438),u=n(5070);function g(i,t){if(1&i){const a=e.RV6();e.j41(0,"ion-item",3),e.bIt("click",function(){const s=e.eBV(a).$implicit,m=e.XpG(3);return e.Njj(m.selectSimCard(s))}),e.j41(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()()()}if(2&i){const a=t.$implicit,o=e.XpG(3);e.AVh("selected",o.selectedSim===a),e.R7$(3),e.SpI("ICCID: ",a.iccid,""),e.R7$(2),e.SpI("Operador: ",a.operador,"")}}function h(i,t){if(1&i&&(e.j41(0,"ion-list"),e.DNE(1,g,6,4,"ion-item",7),e.k0s()),2&i){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.simCards)}}function p(i,t){1&i&&(e.j41(0,"p"),e.EFF(1,"No hay SIM cards disponibles para mostrar."),e.k0s())}function f(i,t){if(1&i&&(e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"SIM Cards (Administrador)"),e.k0s()(),e.j41(5,"ion-card-content"),e.DNE(6,h,2,1,"ion-list",6)(7,p,2,0,"ng-template",null,0,e.C5r),e.k0s()()()),2&i){const a=e.sdS(8),o=e.XpG();e.R7$(6),e.Y8G("ngIf",o.simCards.length>0)("ngIfElse",a)}}function b(i,t){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-label"),e.EFF(4),e.k0s()()),2&i){const a=t.$implicit;e.R7$(2),e.JRh(a.iccid),e.R7$(2),e.JRh(a.operador)}}function S(i,t){if(1&i&&(e.j41(0,"ion-list")(1,"ion-item")(2,"ion-label"),e.EFF(3,"ICCID"),e.k0s(),e.j41(4,"ion-label"),e.EFF(5,"Operador"),e.k0s()(),e.DNE(6,b,5,2,"ion-item",8),e.k0s()),2&i){const a=e.XpG(2);e.R7$(6),e.Y8G("ngForOf",a.simCards)}}function C(i,t){1&i&&(e.j41(0,"p"),e.EFF(1,"No hay SIM cards disponibles para mostrar."),e.k0s())}function F(i,t){if(1&i&&(e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Visualizaci\xf3n de SIM Cards"),e.k0s()(),e.j41(5,"ion-card-content"),e.DNE(6,S,7,1,"ion-list",6)(7,C,2,0,"ng-template",null,1,e.C5r),e.k0s()()()),2&i){const a=e.sdS(8),o=e.XpG();e.R7$(6),e.Y8G("ngIf",o.simCards.length>0)("ngIfElse",a)}}function D(i,t){if(1&i){const a=e.RV6();e.j41(0,"ion-footer")(1,"ion-button",9),e.bIt("click",function(){e.eBV(a);const s=e.XpG();return e.Njj(s.goToAddSimCard())}),e.EFF(2,"Agregar SIM Card"),e.k0s(),e.j41(3,"ion-button",10),e.bIt("click",function(){e.eBV(a);const s=e.XpG();return e.Njj(s.editSimCard())}),e.EFF(4,"Editar"),e.k0s(),e.j41(5,"ion-button",11),e.bIt("click",function(){e.eBV(a);const s=e.XpG();return e.Njj(s.deleteSimCard())}),e.EFF(6,"Eliminar"),e.k0s()()}if(2&i){const a=e.XpG();e.R7$(3),e.Y8G("disabled",!a.selectedSim),e.R7$(2),e.Y8G("disabled",!a.selectedSim)}}const I=[{path:"",component:(()=>{var i;class t{constructor(o,s){this.apiService=o,this.router=s,this.simCards=[],this.userRole="",this.selectedSim=null}ngOnInit(){this.userRole=this.apiService.obtenerRolUsuario(),this.loadSimCards()}ionViewWillEnter(){this.loadSimCards()}loadSimCards(){console.log("Llamando a getSimCards"),this.apiService.getSimCards().subscribe(o=>{console.log("Datos recibidos de SIM cards:",o),this.simCards=o&&o.length?o:[]},o=>{console.error("Error al cargar las SIM cards:",o),alert("Error al cargar las SIM cards")})}goToAddSimCard(){"admin"===this.userRole&&this.router.navigateByUrl("/add-simcard")}selectSimCard(o){this.selectedSim=o}editSimCard(){"admin"===this.userRole&&this.selectedSim&&this.router.navigate(["/edit-simcard",this.selectedSim.id])}deleteSimCard(){"admin"===this.userRole&&this.selectedSim&&confirm("\xbfEst\xe1s seguro de que deseas eliminar esta SIM card?")&&this.apiService.deleteSimCard(this.selectedSim.id).subscribe(o=>{o.success?(console.log("SIM card eliminada correctamente"),this.loadSimCards(),this.selectedSim=null):alert("Error al eliminar la SIM card")},o=>{console.error("Error al eliminar la SIM card:",o),alert("Error al eliminar la SIM card")})}logout(){this.apiService.logout(),this.router.navigateByUrl("/login")}}return(i=t).\u0275fac=function(o){return new(o||i)(e.rXU(u.G),e.rXU(d.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-dashboard"]],decls:11,vars:3,consts:[["noSimCards",""],["noUserSimCards",""],["slot","end"],[3,"click"],[1,"ion-padding"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"selected","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["expand","full","color","success",3,"click"],["expand","full","color","primary",3,"click","disabled"],["expand","full","color","danger",3,"click","disabled"]],template:function(o,s){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Dashboard"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return s.logout()}),e.EFF(6," Cerrar Sesi\xf3n "),e.k0s()()()(),e.j41(7,"ion-content",4),e.DNE(8,f,9,2,"div",5)(9,F,9,2,"div",5)(10,D,7,2,"ion-footer",5),e.k0s()),2&o&&(e.R7$(8),e.Y8G("ngIf","admin"===s.userRole),e.R7$(),e.Y8G("ngIf","user"===s.userRole),e.R7$(),e.Y8G("ngIf","admin"===s.userRole))},dependencies:[l.Sq,l.bT,r.Jm,r.QW,r.b_,r.I9,r.ME,r.tN,r.W9,r.M0,r.eU,r.uz,r.he,r.nf,r.BC,r.ai],styles:['@charset "UTF-8";.selected[_ngcontent-%COMP%]{background-color:#d3d3d3}']}),t})()}];let k=(()=>{var i;class t{}return(i=t).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[d.iI.forChild(I),d.iI]}),t})(),v=(()=>{var i;class t{}return(i=t).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[l.MD,_.YN,r.bv,k]}),t})()}}]);