"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2290],{2290:(L,d,t)=>{t.r(d),t.d(d,{LoginPageModule:()=>P});var c=t(177),l=t(4341),i=t(4742),u=t(8986),e=t(4438),p=t(5070);function h(o,r){if(1&o&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&o){const s=e.XpG();e.R7$(),e.JRh(s.errorMessage)}}const f=[{path:"",component:(()=>{var o;class r{constructor(n,a){this.apiService=n,this.router=a,this.email="",this.password="",this.errorMessage=""}login(){this.apiService.login(this.email,this.password).subscribe(n=>{n.success?(localStorage.setItem("userRole",n.userRole),this.router.navigateByUrl("admin"===n.userRole?"/dashboard/admin":"/dashboard/user")):(this.errorMessage=n.message,alert(this.errorMessage))},n=>{console.error("Error al conectarse con el API:",n),alert("Error al conectarse con el servidor.")})}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(p.G),e.rXU(u.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"ion-padding"],[3,"ngSubmit"],["position","floating"],["type","email","name","email","required","","aria-label","Correo Electr\xf3nico",3,"ngModelChange","ngModel"],["type","password","name","password","required","","aria-label","Contrase\xf1a",3,"ngModelChange","ngModel"],["expand","full","type","submit"],["color","danger",4,"ngIf"],["color","danger"]],template:function(n,a){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Inicio de Sesi\xf3n"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"form",1),e.bIt("ngSubmit",function(){return a.login()}),e.j41(6,"ion-item")(7,"ion-label",2),e.EFF(8,"Correo Electr\xf3nico"),e.k0s(),e.j41(9,"ion-input",3),e.mxI("ngModelChange",function(g){return e.DH7(a.email,g)||(a.email=g),g}),e.k0s()(),e.j41(10,"ion-item")(11,"ion-label",2),e.EFF(12,"Contrase\xf1a"),e.k0s(),e.j41(13,"ion-input",4),e.mxI("ngModelChange",function(g){return e.DH7(a.password,g)||(a.password=g),g}),e.k0s()(),e.j41(14,"ion-button",5),e.EFF(15,"Ingresar"),e.k0s(),e.DNE(16,h,2,1,"p",6),e.k0s()()),2&n&&(e.R7$(9),e.R50("ngModel",a.email),e.R7$(4),e.R50("ngModel",a.password),e.R7$(3),e.Y8G("ngIf",a.errorMessage))},dependencies:[c.bT,l.qT,l.BC,l.cb,l.YS,l.vS,l.cV,i.Jm,i.W9,i.eU,i.$w,i.uz,i.he,i.BC,i.ai,i.Gw]}),r})()}];let M=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(f),u.iI]}),r})(),P=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[c.MD,l.YN,i.bv,M]}),r})()}}]);